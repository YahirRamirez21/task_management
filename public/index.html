<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestión de Tareas</title>

    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body>
    <div class="container">
      <div class="sidebar">
        <div class="sidebar-logo">
          <img
            src="img/tareas.png"
            alt="Logo"
            style="width: 50%; height: auto"
          />
        </div>

        <div class="sidebar-buttons">
          <button id="viewTasksButton" class="sidebar-button">
            <i class="fas fa-tasks"></i> Ver Tareas
          </button>
          <button id="addTaskButton" class="sidebar-button">
            <i class="fas fa-plus"></i> Agregar Tarea
          </button>
        </div>
      </div>

      <main>
        <section class="task-list" id="taskListSection">
          <h2>Tareas Actuales</h2>
          <div class="table-wrapper">
            <table id="taskTable">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Nombre</th>
                  <th>Descripción</th>
                  <th>Fecha</th>
                  <th>Estado</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>

              </tbody>
            </table>
          </div>
        </section>

        
        <section class="task-form" id="taskFormSection" style="display: none">
          <h2>Agregar Nueva Tarea</h2>
          <form id="taskForm">
            <label for="name">Nombre de la Tarea</label>
            <input
              type="text"
              id="name"
              placeholder="Nombre de la tarea"
              required
            />

            <label for="description">Descripción de la Tarea</label>
            <textarea
              id="description"
              placeholder="Descripción de la tarea"
              required
            ></textarea>

            <label for="due_date">Fecha de Vencimiento</label>
            <input type="date" id="due_date" required />

            <button type="submit">Agregar Tarea</button>
          </form>
        </section>
      </main>
      <div id="notificationContainer"></div>
    </div>

    <div id="updateModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Editar Tarea</h2>
        <form id="updateTaskForm">
          <input
            type="text"
            id="modalName"
            placeholder="Nombre de la tarea"
            required
          />
          <textarea
            id="modalDescription"
            placeholder="Descripción de la tarea"
          ></textarea>
          <input type="date" id="modalDueDate" required />
          <select id="modalStatus" required>
            <option value="pending">Pendiente</option>
            <option value="in_progress">En Progreso</option>
            <option value="completed">Completada</option>
          </select>
          <button type="button" onclick="submitUpdateTask()">
            Actualizar Tarea
          </button>
        </form>
      </div>
    </div>

    <div id="statusModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeStatusModal()">&times;</span>
        <h2>Cambiar Estado de la Tarea</h2>
        <form id="updateStatusForm">
          <select id="statusSelect" required>
            <option value="pending">Pendiente</option>
            <option value="in_progress">En Progreso</option>
            <option value="completed">Completada</option>
          </select>
          <button type="button" onclick="submitUpdateStatus()">
            Actualizar Estado
          </button>
        </form>
      </div>
    </div>

    <div id="confirmModal" class="confirm-modal">
      <div class="confirm-content">
        <p>¿Seguro que deseas eliminar esta tarea?</p>
        <button id="confirmDeleteButton" class="confirm-yes">Sí</button>
        <button class="confirm-no" onclick="closeConfirmModal()">No</button>
      </div>
    </div>

    <script type="module" src="scripts/main.js"></script>
  </body>
</html>
